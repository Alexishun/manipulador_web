<!DOCTYPE html>
<html lang='es'>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Inventariado de Almacén</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      width: 500px;
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .header h1 {
      margin: 0;
      font-size: 24px;
      color: #007BFF;
    }

    .section {
      margin-bottom: 20px;
    }

    .section h2 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #555;
    }

    .webcam {
      background: #333;
      height: 200px;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .almacen {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .almacen div {
      width: 45%;
    }

    .almacen label {
      font-size: 16px;
      display: block;
      margin-bottom: 5px;
    }

    .almacen input {
      width: 100%;
      padding: 5px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .movimientos,
    .rutina {
      margin-bottom: 20px;
    }

    .movimientos label,
    .rutina label {
      font-size: 16px;
      display: block;
      margin-bottom: 5px;
    }

    .movimientos input,
    .rutina button {
      width: 100%;
      padding: 5px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    .rutina button {
      background-color: #007BFF;
      color: white;
      cursor: pointer;
      border: none;
    }

    .rutina button:hover {
      background-color: #0056b3;
    }

    .footer {
      text-align: center;
      font-size: 14px;
      color: #777;
    }

    .go-button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: #28a745;
      color: white;
      cursor: pointer;
    }

    .go-button:hover {
      background-color: #218838;
    }
  </style>
  <script>
    function sendData() {
      var angQ1 = document.getElementById('mov1').value;
      var angQ2 = document.getElementById('mov2').value;
      var angQ3 = document.getElementById('mov3').value;
      var angQ4 = document.getElementById('mov4').value;
      var xhr = new XMLHttpRequest();
      xhr.open('POST', '/update', true);
      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
      xhr.send('angQ1=' + angQ1 + '&angQ2=' + angQ2 + '&angQ3=' + angQ3 + '&angQ4=' + angQ4);
      xhr.onload = function () {
        if (xhr.status == 200) {
          console.log('Valores enviados: ' + xhr.responseText);
        }
      }
    }
    function updateAlmacen(almacen) {
      var xhr = new XMLHttpRequest();
      xhr.open('POST', '/routine', true);
      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
      xhr.send('almacen=' + almacen);
      xhr.onload = function () {
        if (xhr.status == 200) {
          console.log('Rutina ejecutada: ' + xhr.responseText);
          var data = JSON.parse(xhr.responseText);
          document.getElementById('almacen-a').value = data.cantA;
          document.getElementById('almacen-b').value = data.cantB;
        }
      }
    }
    function captureImage(resolution) { var xhr = new XMLHttpRequest(); xhr.open('GET', resolution, true); xhr.send(); xhr.onload = function () { if (xhr.status == 200) { console.log('Image captured: ' + xhr.responseText); } } }
  </script>
</head>

<body>
  <div class='container'>
    <div class='header'>
      <h1>Inventariado Almacén</h1>
    </div>
    <div class='section webcam'>
      <h2>Webcam</h2>
    </div>
    <div class='section almacen'>
      <div>
        <label for='almacen-a'>Almacén A - Cantidad:</label>
        <input type='number' id='almacen-a' name='cantA' value='0'>
      </div>
      <div>
        <label for='almacen-b'>Almacén B - Cantidad:</label>
        <input type='number' id='almacen-b' name='cantB' value='0'>
      </div>
    </div>
    <div class='section movimientos'>
      <h2>Movimientos</h2>
      <label for='mov1'>Q1:</label>
      <input type='text' id='mov1' name='angQ1'>
      <label for='mov2'>Q2:</label>
      <input type='text' id='mov2' name='angQ2'>
      <label for='mov3'>Q3:</label>
      <input type='text' id='mov3' name='angQ3'>
      <label for='mov4'>Q4:</label>
      <input type='text' id='mov4' name='angQ4'>
      <button class='go-button' type='button' onclick='sendData()'>Go</button>
    </div>
    <div class='section rutina'>
      <h2>Rutina</h2>
      <button id='rutina-a' name='RutA' onclick='updateAlmacen("A")'>A</button>
      <button id='rutina-b' name='RutB' onclick='updateAlmacen("B")'>B</button>
    </div>
    <div class='footer'>
      UNI Grupo 8 - MT136-B
    </div>
  </div>
</body>

</html>